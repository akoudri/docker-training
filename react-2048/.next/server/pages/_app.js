(()=>{var e={};e.id=888,e.ids=[888],e.modules={9771:(e,t,i)=>{"use strict";i.d(t,{DY:()=>a,Nf:()=>o,Yp:()=>r,f4:()=>l,yc:()=>s});let s=288,r=464,a=4,l=100,o=2048},3313:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(t,{G:()=>v,Z:()=>d});var r=i(997),a=i(6689);i(6069);var l=i(1381),o=i.n(l),u=i(9771),n=i(444),c=e([n]);n=(c.then?(await c)():c)[0];let v=(0,a.createContext)({score:0,status:"ongoing",moveTiles:e=>{},getTiles:()=>[],startGame:()=>{}});function d({children:e}){let[t,i]=(0,a.useReducer)(n.Z,n.E),s=(0,a.useCallback)(o()(e=>i({type:e}),1.05*u.f4,{trailing:!1}),[i]);return r.jsx(v.Provider,{value:{score:t.score,status:t.status,getTiles:()=>t.tilesByIds.map(e=>t.tiles[e]),moveTiles:s,startGame:()=>{i({type:"reset_game"}),i({type:"create_tile",tile:{position:[0,1],value:2}}),i({type:"create_tile",tile:{position:[0,2],value:2}})}},children:e})}s()}catch(e){s(e)}})},6814:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.r(t),i.d(t,{default:()=>o});var r=i(997),a=i(3313);i(6764);var l=e([a]);function o({Component:e,pageProps:t}){return r.jsx(a.Z,{children:r.jsx(e,{...t})})}a=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},444:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(t,{E:()=>h,Z:()=>f});var r=i(1327),a=i.n(r),l=i(113),o=i.n(l),u=i(6069),n=i.n(u),c=i(5182),d=i(9771),v=e([c]);function p(){let e=[];for(let t=0;t<d.DY;t+=1)e[t]=Array(d.DY).fill(void 0);return e}c=(v.then?(await v)():v)[0];let h={board:p(),tiles:{},tilesByIds:[],hasChanged:!1,score:0,status:"ongoing"};function f(e=h,t){switch(t.type){case"clean_up":{let t=a()(e.board).reduce((t,i)=>n()(i)?t:{...t,[i]:e.tiles[i]},{});return{...e,tiles:t,tilesByIds:Object.keys(t),hasChanged:!1}}case"create_tile":{let i=(0,c.uid)(),[s,r]=t.tile.position,a=JSON.parse(JSON.stringify(e.board));return a[r][s]=i,{...e,board:a,tiles:{...e.tiles,[i]:{id:i,...t.tile}},tilesByIds:[...e.tilesByIds,i]}}case"move_up":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.DY;a++){let l,u=0;for(let c=0;c<d.DY;c++){let d=e.board[c][a],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[a,u-1]},l=void 0,s=!0;continue}t[u][a]=d,i[d]={...v,position:[a,u]},l=i[d],o()(v.position,[a,u])||(s=!0),u++}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_down":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.DY;a++){let l,u=d.DY-1;for(let c=d.DY-1;c>=0;c--){let d=e.board[c][a],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[a,u+1]},l=void 0,s=!0;continue}t[u][a]=d,i[d]={...v,position:[a,u]},l=i[d],o()(v.position,[a,u])||(s=!0),u--}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_left":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.DY;a++){let l,u=0;for(let c=0;c<d.DY;c++){let d=e.board[a][c],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[u-1,a]},l=void 0,s=!0;continue}t[a][u]=d,i[d]={...v,position:[u,a]},l=i[d],o()(v.position,[u,a])||(s=!0),u++}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_right":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.DY;a++){let l,u=d.DY-1;for(let c=d.DY-1;c>=0;c--){let d=e.board[a][c],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[u+1,a]},l=void 0,s=!0;continue}t[a][u]=d,i[d]={...e.tiles[d],position:[u,a]},l=i[d],o()(v.position,[u,a])||(s=!0),u--}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"reset_game":return h;case"update_status":return{...e,status:t.status};default:return e}}s()}catch(e){s(e)}})},6764:()=>{},1327:e=>{"use strict";e.exports=require("lodash/flattenDeep")},113:e=>{"use strict";e.exports=require("lodash/isEqual")},6069:e=>{"use strict";e.exports=require("lodash/isNil")},1381:e=>{"use strict";e.exports=require("lodash/throttle")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5182:e=>{"use strict";e.exports=import("uid")}};var t=require("../webpack-runtime.js");t.C(e);var i=t(t.s=6814);module.exports=i})();