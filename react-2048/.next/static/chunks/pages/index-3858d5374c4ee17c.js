(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6590)}])},6590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(5893),s=n(9008),l=n.n(s),r=n(5675),c=n.n(r),o=n(7294),a=n(3665),_=n.n(a),u=n(1852),d=n(8057),h=n(893),v=n.n(h);function f(e){let{position:t,value:n}=e,s=(0,u.useMediaQuery)({minWidth:512})?d.Yp:d.yc,[l,r]=(0,o.useState)(1),c=function(e){let t=(0,o.useRef)();return(0,o.useEffect)(()=>{t.current=e}),t.current}(n)!==n;(0,o.useEffect)(()=>{c&&(r(1.1),setTimeout(()=>r(1),d.f4))},[c]);let a={left:t[0]/d.DY*s,top:t[1]/d.DY*s,transform:"scale(".concat(l,")"),zIndex:n};return(0,i.jsx)("div",{className:"".concat(v().tile," ").concat(v()["tile".concat(n)]),style:a,children:n})}var x=n(3162);function w(e){let{children:t,onSwipe:n}=e,s=(0,o.useRef)(null),[l,r]=(0,o.useState)(0),[c,a]=(0,o.useState)(0),_=(0,o.useCallback)(e=>{var t;(null===(t=s.current)||void 0===t?void 0:t.contains(e.target))&&(e.preventDefault(),r(e.touches[0].clientX),a(e.touches[0].clientY))},[]),u=(0,o.useCallback)(e=>{var t;if(null===(t=s.current)||void 0===t?void 0:t.contains(e.target))e.preventDefault(),n({deltaX:e.changedTouches[0].clientX-l,deltaY:e.changedTouches[0].clientY-c}),r(0),a(0)},[l,c,n]);return(0,o.useEffect)(()=>(window.addEventListener("touchstart",_,{passive:!1}),window.addEventListener("touchend",u,{passive:!1}),()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchend",u)}),[_,u]),(0,i.jsx)("div",{ref:s,children:t})}var p=n(3682),j=n.n(p);function m(e){let{heading:t="You won!",type:n=""}=e,{startGame:s}=(0,o.useContext)(x.G);return(0,i.jsx)("div",{className:"".concat(j().splash," ").concat("won"===n&&j().win),children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:t}),(0,i.jsx)("button",{className:j().button,onClick:s,children:"Play again"})]})})}function b(){let{getTiles:e,moveTiles:t,startGame:n,status:s}=(0,o.useContext)(x.G),l=(0,o.useRef)(!1),r=(0,o.useCallback)(e=>{switch(e.preventDefault(),e.code){case"ArrowUp":t("move_up");break;case"ArrowDown":t("move_down");break;case"ArrowLeft":t("move_left");break;case"ArrowRight":t("move_right")}},[t]),c=(0,o.useCallback)(e=>{let{deltaX:n,deltaY:i}=e;Math.abs(n)>Math.abs(i)?n>0?t("move_right"):t("move_left"):i>0?t("move_down"):t("move_up")},[t]);return(0,o.useEffect)(()=>{!1===l.current&&(n(),l.current=!0)},[n]),(0,o.useEffect)(()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r]),(0,i.jsx)(w,{onSwipe:c,children:(0,i.jsxs)("div",{className:_().board,children:["won"===s&&(0,i.jsx)(m,{heading:"You won!",type:"won"}),"lost"===s&&(0,i.jsx)(m,{heading:"You lost!"}),(0,i.jsx)("div",{className:_().tiles,children:e().map(e=>(0,i.jsx)(f,{...e},"".concat(e.id)))}),(0,i.jsx)("div",{className:_().grid,children:(()=>{let e=[];for(let t=0;t<16;t+=1)e.push((0,i.jsx)("div",{className:_().cell},t));return e})()})]})})}var g=n(6989),k=n.n(g);function N(){let{score:e}=(0,o.useContext)(x.G);return(0,i.jsxs)("div",{className:k().score,children:["Score",(0,i.jsx)("div",{children:e})]})}var y=n(696),E=n.n(y),C=n(3454);function S(){return(0,i.jsxs)("div",{className:E().twenty48,children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Play 2048"}),(0,i.jsx)("meta",{name:"description",content:"Fully-functional 2048 game built in NextJS and TypeScript. Including animations."}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"favicon.ico"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"apple-touch-icon.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"favicon32.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"favicon16.png"})]}),(0,i.jsxs)("header",{children:[(0,i.jsx)("h1",{children:"2048"}),(0,i.jsx)(N,{})]}),(0,i.jsx)("main",{children:(0,i.jsx)(b,{})}),(0,i.jsxs)("footer",{children:[(0,i.jsxs)("div",{className:E().socials,children:[(0,i.jsx)("a",{href:"https://github.com/mateuszsokola/2048-in-react",target:"_blank",rel:"noopener",children:(0,i.jsx)(c(),{src:"social-github.svg",alt:"2048-in-react on GitHub",width:32,height:32})}),(0,i.jsx)("a",{href:"https://twitter.com/msokola",target:"_blank",rel:"noopener",children:(0,i.jsx)(c(),{src:"social-twitter.svg",alt:"Mat\xe9ush on Twitter",width:32,height:32})})]}),(0,i.jsx)("div",{children:"Made with ❤️ by Mat\xe9ush"}),(0,i.jsxs)("div",{children:["Version ",C.env.NEXT_PUBLIC_APP_VERSION||"1.0.0"]})]})]})}},3665:function(e){e.exports={board:"board_board__TjSVF",grid:"board_grid__GIY3k",cell:"board_cell__Wr6bs",tiles:"board_tiles__Lk_FR"}},696:function(e){e.exports={twenty48:"styles_twenty48__a9Pvt",socials:"styles_socials__KxPC6"}},6989:function(e){e.exports={score:"score_score__1m_x7"}},3682:function(e){e.exports={splash:"splash_splash__wscpw",win:"splash_win__NqdN4",button:"splash_button__wqzBj"}},893:function(e){e.exports={tile:"tile_tile__RJuk6",tile8:"tile_tile8__vGG9p",tile16:"tile_tile16__TxSFo",tile32:"tile_tile32__J2THy",tile64:"tile_tile64__P76i2",tile128:"tile_tile128__BSNL4",tile256:"tile_tile256__OjOGa",tile512:"tile_tile512__Y9BXN",tile1024:"tile_tile1024__rbna3",tile2048:"tile_tile2048__GrvW_",tile4096:"tile_tile4096__UnU77",tile8192:"tile_tile8192__PLhSD",tile2:"tile_tile2__zyAZi",tile4:"tile_tile4__I7Gv4"}}},function(e){e.O(0,[281,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);